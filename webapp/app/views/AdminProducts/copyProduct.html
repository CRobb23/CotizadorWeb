#{extends 'admin.html' /}

#{form @saveProductCopy(), class:"form-horizontal", method:"POST"}
	<div class="well">	
		<div class="orange-title">
			<span>
				<h1>&{'copyProduct.title'} ${product?.name}</h1>
			</span>
		</div>

		#{if flash.error}
			<div class="alert alert-danger">
				${flash.error}
			</div>
		#{/if}
		#{if flash.success}
			<div class="alert alert-success">
				${flash.success}
			</div>
		#{/if}
	
		#{if product?.id}
			<input type="hidden" name="id" value="${product?.id}" />
			<input type="hidden" name="product.active" value="true" />
			<input type="hidden" name="product.currency.id" value="${product?.currency?.id}" />
		#{/if}
	
		#{field 'product.name'}
			<div class="form-group ${field.error?'has-error':''}">
				<label class="col-sm-3 control-label" for="${field.id}">&{'product.form.'+field.name}</label>
				<div class="col-sm-6">
					<input type="text" name="${field.name}" id="${field.id}" value="${field.flash ?: ''}" class="form-control"/>
					#{if field.error}<span class="help-block">${field.error}</span>#{/if}
				</div>
			</div>
		#{/}
		
		#{field 'product.description'}
			<div class="form-group ${field.error?'has-error':''}">
				<label class="col-sm-3 control-label" for="${field.id}">&{'product.form.'+field.name}</label>
				<div class="col-sm-6">
					<textarea name="${field.name}" id="${field.id}" maxlength="150" cols="1" class="form-control">${field.flash ?: ''}</textarea>
					#{if field.error}<span class="help-block">${field.error}</span>#{/if}
				</div>
			</div>
		#{/}
		
		#{field 'product.remoteSystemCode'}
			<div class="form-group ${field.error?'has-error':''}">
				<label class="col-sm-3 control-label" for="${field.id}">&{'product.form.'+field.name}</label>
				<div class="col-sm-6">
					<input type="text" name="${field.name}" id="${field.id}" value="${field.flash ?: ''}" class="form-control"/>
					#{if field.error}<span class="help-block">${field.error}</span>#{/if}
				</div>
			</div>
		#{/}
		
		#{field 'product.hasFacultative'}
			<div class="form-group ${field.error?'has-error':''}">
				<label class="col-sm-3 control-label" for="${field.id}">&{'product.form.'+field.name}</label>
				<div class="col-sm-6">
					#{if field.error}<span class="help-block">${field.error}</span>#{/if}
					#{select field.name, value: field.flash ?: (product) ? (field.value) ? 1: 0 : "", class:'form-control'}
						#{option 1}&{'form.yes'}#{/option}
						#{option 0}&{'form.no'}#{/option}
					#{/select}
					#{if field.error}<span class="help-block">${field.error}</span>#{/if}
				</div>
			</div>
		#{/}
	
		<div class="form-group">
			<div class="col-sm-6 col-md-offset-3">
				<input type="submit" class="btn btn-default btn-primary btn-block" name="save" value="&{'product.form.savecopy'}" />
			</div>
		</div>
	
	</div>
#{/form}